@page "/"
@using System.Net.Http
@using Newtonsoft.Json
@inject HttpClient Http

<h2 style="text-decoration: underline;text-align: center;">My code toybox!</h2>
<h5>* The code displayed here is optimized for time and space complexity (big O). *</h5>
<p>More code examples: <a href="https://leetcode.com/nova0/" target="_blank">leetcode</a></p>
<hr class="solid">
<h5 style="text-align:center">Call REST Api and display data</h5>
<button class="btn btn-primary" @onclick="PrintWebApiResponse">Random joke :</button> - <button class="btn btn-primary" @onclick="PrintWebApiResponseCat">Random cat fact :</button> - <button class="btn btn-primary" @onclick="PrintWebApiResponseDog">Random internet dog picture :</button>
<hr class="solid">
<p>@res</p>
<p>@res2</p>
<hr class="solid">
<p>@rescat</p>

<div><img src="@resdog" Style="width:300px" /></div>

<h3 style="text-decoration: underline;text-align: center;">App Examples</h3>
<div style="display:flex;flex-wrap:wrap; justify-content: center;">
    <div class="card m-3" style="min-width: 18rem;max-width: 25.5%;">
        <div class="card-header">
            <a>Fluent UI Calendar Example</a>
        </div>
        <img class="card-img-top imageThumbnail" style="height:300px;" src="img/calendar.PNG" />
        <div class="card-footer text-center">
            <a href="/WebDesign/index.html" target="_blank"
               class="btn btn-primary m-1">View</a>
        </div>
    </div>

    <div class="card m-3" style="min-width: 18rem; max-width:25.5%; ">
        <div class="card-header">
            <a>Rinkurisuto - Blazor Server</a>
        </div>
        <img class="card-img-top imageThumbnail" style="height:300px;" src="img/snip7.PNG" />
        <div class="card-footer text-center">
            <a href="https://rinkurisuto.azurewebsites.net/"
               class="btn btn-primary m-1" target="_blank">View</a>
        </div>
    </div>

    <div class="card m-3" style="min-width: 18rem; max-width:25.5%; ">
        <div class="card-header">
            <a>Rinkurisuto - Mobile App</a>
        </div>
        <img class="card-img-top imageThumbnail" style="height:300px;" src="img/snip9.PNG" />
        <div class="card-footer text-center">
            <a href="https://play.google.com/store/apps/details?id=net.azurewebsites.rinkurisuto.twa"
               class="btn btn-primary m-1" target="_blank">View</a>
        </div>
    </div>

    <div class="card m-3" style="min-width: 18rem; max-width:25.5%; ">
        <div class="card-header">
            <a>Login with Azure AD</a>
        </div>
        <img class="card-img-top imageThumbnail" style="height:300px;" src="img/Login.PNG" />
        <div class="card-footer text-center">
            <a href="https://jolly-bush-0804d0d03.azurestaticapps.net/" target="_blank" class="btn btn-primary m-1">View</a>
        </div>
    </div>

    <div class="card m-3" style="min-width: 18rem;max-width: 25.5%;">
        <div class="card-header">
            <a>Cat Maze - Javascript</a>
        </div>
        <img class="card-img-top imageThumbnail" style="height:300px;" src="img/catmaze.PNG" />
        <div class="card-footer text-center">
            <a href="https://astronomyara.com/CatMaze/index.html"
               class="btn btn-primary m-1" target="_blank">View</a>
        </div>
    </div>
    <div class="card m-3" style="min-width: 18rem;max-width: 25.5%;">
        <div class="card-header">
            <a>Wordpress</a>
        </div>
        <img class="card-img-top imageThumbnail" style="height:300px;" src="img/helm.jpg" />
        <div class="card-footer text-center">
            <a href="https://astronomyara.com/"
               class="btn btn-primary m-1" target="_blank">View</a>
        </div>
    </div>
</div>

@code
{
    //[Parameter]
    //public string titles { get; set; } = "Enter text";
    string res = "";
    string res2 = "";
    public string rescat;
    public string resdog;


    public class Flags
    {
        public bool nsfw { get; set; }
        public bool religious { get; set; }
        public bool political { get; set; }
        public bool racist { get; set; }
        public bool sexist { get; set; }

    }

    public class Root
    {
        public string category { get; set; }
        public string type { get; set; }
        public string setup { get; set; }
        public string delivery { get; set; }
        public Flags flags { get; set; }
        public int id { get; set; }
        public bool error { get; set; }

    }


    public class RootCat
    {
        public string fact { get; set; }
        public int length { get; set; }

    }

    public class RootDog
    {
        public string message { get; set; }
        //public int length { get; set; }

    }

    public async Task PrintWebApiResponse()
    {

        var response = await Http.GetStringAsync("https://sv443.net/jokeapi/v2/joke/Programming?blacklistFlags=racist,sexist");
        Root myDeserializedClass = JsonConvert.DeserializeObject<Root>(response);


        res = myDeserializedClass.setup;
        res2 = myDeserializedClass.delivery;

    }
    public async Task PrintWebApiResponseCat()
    {

        var response = await Http.GetStringAsync("https://catfact.ninja/fact?max_length=240");
        RootCat myDeserializedClass = JsonConvert.DeserializeObject<RootCat>(response);


        rescat = myDeserializedClass.fact;

    }
    public async Task PrintWebApiResponseDog()
    {

        var response = await Http.GetStringAsync("https://dog.ceo/api/breeds/image/random");
        RootDog myDeserializedClass = JsonConvert.DeserializeObject<RootDog>(response);


        resdog = myDeserializedClass.message;

    }


}
